<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>È©¨Êù•Ë•ø‰∫öÂéÜÂè≤ÊãñÊãΩÂ°´Á©∫Ê∏∏Êàè</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            text-align: center;
            padding: 20px;
            color: #333;
        }

        .game-container {
            background-color: white;
            border-radius: 20px;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
            border: 2px solid #4D96FF;
        }
        
        h1 {
            color: #4D96FF;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 15px;
        }
        
        .player-name {
            margin-bottom: 15px;
        }
        
        .player-name input {
            font-family: "Arial", sans-serif;
            font-size: 16px;
            padding: 8px 12px;
            border: 2px solid #4D96FF;
            border-radius: 15px;
            text-align: center;
            color: #333;
            width: 60%;
            max-width: 200px;
        }
        
        .selector-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .grade-selector, .unit-selector {
            width: 48%;
        }
        
        .grade-btn, .unit-btn {
            background-color: #4D96FF;
            color: white;
            border: none;
            border-radius: 15px;
            padding: 8px 12px;
            margin: 5px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }
        
        .grade-btn:hover, .unit-btn:hover {
            transform: scale(1.05);
        }
        
        .unit-btn.active {
            background-color: #6BCB77;
        }
        
        .problem-container {
            margin: 20px 0;
            font-size: 18px;
            color: #333;
            min-height: 40px;
            text-align: left;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 10px;
            position: relative;
        }
        
        .blank-space {
            display: inline-block;
            width: 150px;
            height: 40px;
            border: 2px dashed #4D96FF;
            border-radius: 5px;
            margin: 0 5px;
            vertical-align: middle;
            background-color: #f0f8ff;
        }
        
        .options-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .option {
            padding: 8px 15px;
            border: 2px solid #4D96FF;
            border-radius: 15px;
            cursor: move;
            transition: all 0.2s;
            background-color: white;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .option:hover {
            background-color: #e6f0ff;
        }
        
        .option.dragging {
            opacity: 0.5;
            transform: scale(1.1);
        }
        
        .blank-space.highlight {
            background-color: #e6f7ff;
            border-color: #6BCB77;
        }
        
        .blank-space.correct {
            background-color: #d4edda;
            border-color: #6BCB77;
        }
        
        .blank-space.incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }
        
        .submit-btn {
            background-color: #6BCB77;
            color: white;
            border: none;
            border-radius: 15px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .submit-btn:hover {
            transform: scale(1.05);
        }
        
        .submit-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .score {
            font-size: 20px;
            margin: 10px 0;
            color: #4D96FF;
        }
        
        .level {
            font-size: 20px;
            color: #4D96FF;
            margin: 5px 0;
        }
        
        .feedback {
            font-size: 18px;
            margin: 10px 0;
            min-height: 24px;
            padding: 10px;
            border-radius: 5px;
        }
        
        .feedback.correct {
            color: #155724;
            background-color: #d4edda;
            animation: bounce 0.5s;
        }
        
        .feedback.incorrect {
            color: #721c24;
            background-color: #f8d7da;
            animation: shake 0.5s;
        }
        
        .explanation {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 16px;
            text-align: left;
            display: none;
            border-left: 4px solid #4D96FF;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .history {
            margin-top: 20px;
            border-top: 2px dashed #dee2e6;
            padding-top: 15px;
        }
        
        .history h3 {
            color: #4D96FF;
        }
        
        .history-controls {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 10px;
        }
        
        .history-btn {
            background-color: #e9ecef;
            border: none;
            border-radius: 15px;
            padding: 5px 12px;
            cursor: pointer;
        }
        
        .history-btn.active {
            background-color: #4D96FF;
            color: white;
        }
        
        .history-list {
            max-height: 150px;
            overflow-y: auto;
            text-align: left;
            padding: 8px;
            background-color: #f8f9fa;
            border-radius: 10px;
        }
        
        .history-item {
            margin: 5px 0;
            padding: 5px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .history-correct {
            color: #155724;
        }
        
        .history-incorrect {
            color: #721c24;
        }
        
        .summary {
            display: none;
            background-color: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #4D96FF;
            animation: fall linear forwards;
        }
        
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }
        
        .progress-container {
            width: 100%;
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .progress-bar {
            height: 100%;
            border-radius: 5px;
            background-color: #4D96FF;
            width: 0%;
            transition: width 0.3s;
        }
        
        .pronounce-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #4D96FF;
            padding: 0;
            margin-left: 5px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .timer {
            font-size: 18px;
            color: #4D96FF;
            margin: 10px 0;
        }
        
        .question-text {
            display: inline;
        }
        
        .voice-status {
            margin-top: 10px;
            font-size: 14px;
            padding: 5px;
            border-radius: 5px;
        }
        
        .voice-unsupported {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .voice-supported {
            background-color: #d4edda;
            color: #155724;
        }
        
        .voice-loading {
            background-color: #fff3cd;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üìú È©¨Êù•Ë•ø‰∫öÂéÜÂè≤ÊãñÊãΩÂ°´Á©∫Ê∏∏Êàè üìú</h1>
        <p class="subtitle">Â°´ÂÜôÂêçÂ≠óÂπ∂ÈÄâÊã©Âπ¥Á∫ßÂíåÂçïÂÖÉÂºÄÂßãÊåëÊàòÂêßÔºÅ</p>

        <div class="player-name">
            <input type="text" id="player-name" placeholder="ËæìÂÖ•‰Ω†ÁöÑÂêçÂ≠ó" maxlength="10">
        </div>
        
        <div class="selector-container">
            <div class="grade-selector">
                <h3>Âπ¥Á∫ßÈÄâÊã©</h3>
                <button class="grade-btn" data-grade="5">‰∫îÂπ¥Á∫ß</button>
            </div>
            
            <div class="unit-selector">
                <h3>ÂçïÂÖÉÈÄâÊã©</h3>
                <div id="unit-buttons">
                    <p>ËØ∑ÂÖàÈÄâÊã©Âπ¥Á∫ß</p>
                </div>
            </div>
        </div>
        
        <div class="timer" id="timer">Êó∂Èó¥: 0Áßí</div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        
        <div id="voice-status" class="voice-status voice-loading">Ê≠£Âú®ÂàùÂßãÂåñËØ≠Èü≥ÂäüËÉΩ...</div>
        
        <div class="level" id="level">ÂÖ≥Âç°: 1/10</div>
        <div class="score" id="score">ÂæóÂàÜ: 0</div>
        
        <div class="problem-container" id="problem-container">
            <div>ËØ∑ÈÄâÊã©Âπ¥Á∫ßÂíåÂçïÂÖÉ</div>
        </div>
        
        <div class="options-container" id="options-container"></div>
        
        <button class="submit-btn" id="submit-answer" disabled>Êèê‰∫§Á≠îÊ°à</button>
        
        <div class="feedback" id="feedback"></div>
        <div class="explanation" id="explanation"></div>
        
        <div class="summary" id="summary">
            <h3>üéâ <span id="summary-player">Áé©ÂÆ∂</span> ÊÅ≠ÂñúÈÄöÂÖ≥ÔºÅ üéâ</h3>
            <p>‰Ω†ÂÆåÊàê‰∫ÜÊâÄÊúâÂÖ≥Âç°ÔºÅ</p>
            <p id="final-score">ÊúÄÁªàÂæóÂàÜ: 0</p>
            <p id="correct-rate">Ê≠£Á°ÆÁéá: 0%</p>
            <p id="time-used">Áî®Êó∂: 0Áßí</p>
            <button id="play-again">ÂÜçÁé©‰∏ÄÊ¨°</button>
        </div>
        
        <div class="history">
            <h3>üìù Á≠îÈ¢òÂéÜÂè≤</h3>
            <div class="history-controls">
                <button class="history-btn active" id="show-all">ÂÖ®ÈÉ®</button>
                <button class="history-btn" id="show-correct">Ê≠£Á°Æ</button>
                <button class="history-btn" id="show-incorrect">ÈîôËØØ</button>
            </div>
            <div class="history-list" id="history-list">
                <p>ËøòÊ≤°ÊúâÁ≠îÈ¢òËÆ∞ÂΩïÂì¶~</p>
            </div>
        </div>
    </div>

    <script>
        // Ê∏∏ÊàèÁä∂ÊÄÅÂèòÈáè
        let score = 0;
        let currentProblem = "";
        let correctAnswer = "";
        let history = [];
        let grade = 0;
        let unit = '';
        let currentLevel = 1;
        const maxLevel = 10;
        let usedProblems = [];
        let startTime;
        let timer;
        let playerName = 'Áé©ÂÆ∂';
        let historyFilter = 'all';
        let blankSpaces = [];
        let draggedOption = null;
        let elapsedSeconds = 0;
        
        // ËØ≠Èü≥Áä∂ÊÄÅÂèòÈáè
        let isSpeechSupported = false;
        let chineseVoiceAvailable = false;
        let voicesLoaded = false;
        
        // ÂçïÂÖÉÈÖçÁΩÆ
        const unitConfig = {
            '5': ['1.1 Âêõ‰∏ªÊòØÊîøÂ∫úÁöÑÈ¶ñËÑë', '1.2 Â∑ûÁöÑ‰øùÊä§‰ºû', '1.3 ÊïàÂø†Âêõ‰∏ª', '1.4 ÂêõËá£ÂçèËÆÆ']
        };
        
        // ‰∫îÂπ¥Á∫ßÈ¢òÁõÆÂ∫ì
        const historyDragQuestions = {
            '1.1 Âêõ‰∏ªÊòØÊîøÂ∫úÁöÑÈ¶ñËÑë': [
                {
                    question: "Â∑ûÂÖÉÈ¶ñÁî±______Âßî‰ªª„ÄÇ",
                    options: ["Ëãè‰∏π", "ÂõΩÂÆ∂ÂÖÉÈ¶ñ", "È¶ñÁõ∏", "Â∑ûÂä°Â§ßËá£"],
                    answer: "ÂõΩÂÆ∂ÂÖÉÈ¶ñ",
                    explanation: "Ê†πÊçÆÈ©¨Êù•Ë•ø‰∫öÂÆ™Ê≥ïÔºåÂ∑ûÂÖÉÈ¶ñÔºàÂ¶ÇËãè‰∏πÊàñÊãâÊÉπÔºâÁöÑ‰ªªÂëΩÈúÄÁî±ÂõΩÂÆ∂ÊúÄÈ´òÂÖÉÈ¶ñÔºàYang di-Pertuan AgongÔºâÁ°ÆËÆ§„ÄÇ"
                },
                {
                    question: "______ÊàñËãè‰∏πÊòØÂ∑ûÊîøÂ∫úÁöÑÈ¶ñËÑë„ÄÇ",
                    options: ["ÊãâÊÉπ", "ÂõΩÁéã", "ÊÄªÁªü", "Â∑ûÈïø"],
                    answer: "ÊãâÊÉπ",
                    explanation: "Âú®Âêõ‰∏ªÂà∂Â∑ûÂ±ûÔºàÂ¶ÇÊ£ÆÁæéÂÖ∞„ÄÅÁéªÁíÉÂ∏ÇÔºâÔºåÂ∑ûÊîøÂ∫úÈ¶ñËÑëÁöÑÁß∞Âè∑‰∏∫'ÊãâÊÉπ'ÔºàRajaÔºâÊàñ'Ëãè‰∏π'ÔºàSultanÔºâ„ÄÇ"
                },
                {
                    question: "È©¨Êù•Ë•ø‰∫öÂÖ±Êúâ______‰∏™Â∑ûÂ±ûÂÆûË°åÂêõ‰∏ªÂà∂Â∫¶„ÄÇ",
                    options: ["‰πù", "ÂçÅ‰∏â", "‰∏É", "‰∫î"],
                    answer: "‰πù",
                    explanation: "ÂÖ®ÂõΩ13‰∏™Â∑û‰∏≠Ôºå9‰∏™Â∑û‰øùÁïô‰∏ñË¢≠Âêõ‰∏ªÂà∂ÔºàÊüî‰Ωõ„ÄÅÂêâÊâìÁ≠âÔºâÔºåÂÖ∂‰Ωô4Â∑ûÔºàÈ©¨ÂÖ≠Áî≤„ÄÅÊßüÂüéÁ≠âÔºâÁî±Â∑ûÂÖÉÈ¶ñÔºàÈùû‰∏ñË¢≠ÔºâÊ≤ªÁêÜ„ÄÇ"
                },
                {
                    question: "Âêõ‰∏ªÂà∂Â∫¶Ê∫ê‰∫é______ÁöÑÈ©¨Êù•ÁéãÂõΩ‰º†Áªü„ÄÇ",
                    options: ["Êó©Êúü", "ÂêéÊúü", "Áé∞‰ª£", "ÊÆñÊ∞ëÊó∂Êúü"],
                    answer: "Êó©Êúü",
                    explanation: "È©¨Êù•Ë•ø‰∫öÁöÑÂêõ‰∏ªÂà∂ÂèØËøΩÊ∫ØËá≥15‰∏ñÁ∫™È©¨ÂÖ≠Áî≤ÁéãÊúùÔºåÂêéÂèóÂç∞Â∫¶ÊñáÂåñÂΩ±ÂìçÂΩ¢Êàê'ÊãâÊÉπ'‰ΩìÁ≥ª„ÄÇ"
                },
                {
                    question: "______ÊåáÁöÑÊòØÂêõ‰∏ªÁªüÊ≤ªÁöÑÂ∑ûÂ±ûÊàñÂõΩÂÆ∂„ÄÇ",
                    options: ["ÊãâÊÉπ", "ÊîøÂ∫ú", "ËÆÆ‰ºö", "ÂÜÖÈòÅ"],
                    answer: "ÊãâÊÉπ",
                    explanation: "'ÊãâÊÉπ'‰∏ÄËØçÂπø‰πâÊåáÂêõ‰∏ªÁªüÊ≤ªÁöÑÈ¢ÜÂúüÔºàÂ¶ÇÊ£ÆÁæéÂÖ∞ÁöÑ'ÊãâÊÉπÂà∂Â∫¶'ÔºâÔºåÁã≠‰πâÂç≥Âêõ‰∏ªÊú¨‰∫∫„ÄÇ"
                },
                {
                    question: "ÊàëÂõΩÁöÑÂêõ‰∏ªÂà∂Â∫¶Âßã‰∫éÊó©ÊúüÁöÑ______Êó∂‰ª£„ÄÇ",
                    options: ["È©¨Êù•ÁéãÂõΩ", "ÊÆñÊ∞ë", "Áã¨Á´ã", "Áé∞‰ª£"],
                    answer: "È©¨Êù•ÁéãÂõΩ",
                    explanation: "È©¨Êù•Ë•ø‰∫öÂêõ‰∏ªÂà∂ÔºàÂ¶ÇËãè‰∏πÂà∂Â∫¶ÔºâÊ∫êËá™15‰∏ñÁ∫™È©¨Êù•ÁéãÊúùÔºàÂ¶ÇÈ©¨ÂÖ≠Áî≤Ëãè‰∏πÂõΩÔºâÁöÑ‰º†ÁªüÁªüÊ≤ª‰ΩìÁ≥ª„ÄÇ"
                },
                {
                    question: "ÊîøÂ∫úÊåáÁöÑÊòØÂêõ‰∏ªÊâÄÁªüÊ≤ªÁöÑ______ÊàñÂõΩÂÆ∂„ÄÇ",
                    options: ["Â∑ûÂ±û", "ÂüéÂ∏Ç", "Âú∞Âå∫", "‰π°Êùë"],
                    answer: "Â∑ûÂ±û",
                    explanation: "Âú®Âêõ‰∏ªÂà∂Â∑ûÂ±ûÔºàÂ¶ÇÊüî‰Ωõ„ÄÅÈõ™ÂÖ∞Ëé™ÔºâÔºåÊîøÂ∫úÁî±Ëãè‰∏πÊàñÊãâÊÉπ‰Ωú‰∏∫Ë±°ÂæÅÈ¶ñËÑëÔºåÂÆûÈôÖË°åÊîøÁî±Â∑ûÂä°Â§ßËá£ÔºàMenteri BesarÔºâÊâßË°å„ÄÇ"
                },
                {
                    question: "Âú®Âêõ‰∏ªÂà∂Â∫¶‰∏ãÔºåÊãâÊÉπÊàñËãè‰∏πÊòØÊîøÂ∫úÁöÑ______„ÄÇ",
                    options: ["È¶ñËÑë", "ÊàêÂëò", "È°æÈóÆ", "‰ª£Ë°®"],
                    answer: "È¶ñËÑë",
                    explanation: "Ëãè‰∏π/ÊãâÊÉπÊòØÂ∑ûÂ±ûÁöÑÊ≥ïÂÆöÁªüÊ≤ªËÄÖÔºàHead of StateÔºâÔºå‰ΩÜÊó•Â∏∏Ë°åÊîøÁî±Ê∞ëÈÄâÊîøÂ∫úË¥üË¥£ÔºåÂΩ¢Êàê'Âêõ‰∏ªÁ´ãÂÆ™Âà∂'„ÄÇ"
                },
                {
                    question: "Âêõ‰∏ªÂà∂Â∫¶ÊòØÂõΩÂÆ∂ÁöÑË±°ÂæÅÔºå‰πüÊòØÊàëÂõΩÈáçË¶ÅÁöÑ______‰πã‰∏Ä„ÄÇ",
                    options: ["ÈÅó‰∫ß", "Ê≥ïÂæã", "ÊîøÁ≠ñ", "ËÆ°Âàí"],
                    answer: "ÈÅó‰∫ß",
                    explanation: "Âêõ‰∏ªÂà∂Ë¢´Âàó‰∏∫È©¨Êù•Ë•ø‰∫öÂõΩÂÆ∂ÊñáÂåñÈÅó‰∫ßÔºàÂ¶ÇÂÆ™Ê≥ïÁ¨¨181Êù°ÔºâÔºå‰ΩìÁé∞ÂéÜÂè≤Âª∂Áª≠ÊÄß‰∏éÊ∞ëÊóèÂõ¢Áªì„ÄÇ"
                },
                {
                    question: "Êó©ÊúüÈ©¨Êù•ÁéãÂõΩÁöÑ______ÊòØ‰ΩçÈ´òÊùÉÈáçÁöÑÊãâÊÉπÊàñËãè‰∏πÔºå‰πüÊòØËØ•Â∑û‰∫∫Ê∞ëÁöÑ______„ÄÇ",
                    options: ["ÁªüÊ≤ªËÄÖÔºõ‰øùÊä§‰ºû", "È¢ÜË¢ñÔºõ‰ªÜ‰∫∫", "ÂÆòÂëòÔºõÊúãÂèã", "‰ª£Ë°®Ôºõ‰ºô‰º¥"],
                    answer: "ÁªüÊ≤ªËÄÖÔºõ‰øùÊä§‰ºû",
                    explanation: "Ëãè‰∏π/ÊãâÊÉπÊòØÈ©¨Êù•ÁéãÂõΩÁöÑÊúÄÈ´òÁªüÊ≤ªËÄÖ„ÄÇÂêõ‰∏ª‰º†Áªü‰∏äË¢´ËßÜ‰∏∫‰∫∫Ê∞ëÁöÑ'‰øùÊä§ËÄÖ'ÔºàÂ¶ÇÊèê‰æõÊ≥ïÂæãÂ∫áÊä§„ÄÅÈ¢ÜÂØºÂÆóÊïô‰∫ãÂä°Ôºâ„ÄÇ"
                }
            ],
            '1.2 Â∑ûÁöÑ‰øùÊä§‰ºû': [
                {
                    question: "Â∑ûÂÖÉÈ¶ñÁî±______Âßî‰ªª„ÄÇ",
                    options: ["Ëãè‰∏π", "ÂõΩÂÆ∂ÂÖÉÈ¶ñ", "È¶ñÁõ∏", "Â∑ûÂä°Â§ßËá£"],
                    answer: "ÂõΩÂÆ∂ÂÖÉÈ¶ñ",
                    explanation: "Ê†πÊçÆÈ©¨Êù•Ë•ø‰∫öÂÆ™Ê≥ïÔºåÂ∑ûÂÖÉÈ¶ñÔºàÂ¶ÇÈ©¨ÂÖ≠Áî≤„ÄÅÊßüÂüéÁ≠âÈùûÂêõ‰∏ªÂ∑ûÔºâÁî±ÊúÄÈ´òÂÖÉÈ¶ñÔºàÂõΩÂÆ∂ÂÖÉÈ¶ñÔºâÂßî‰ªª„ÄÇ"
                },
                {
                    question: "______ÊàñËãè‰∏πÊòØÊîøÂ∫úÁöÑÈ¶ñËÑë„ÄÇ",
                    options: ["ÊãâÊÉπ", "ÂõΩÁéã", "ÊÄªÁªü", "Â∑ûÈïø"],
                    answer: "ÊãâÊÉπ",
                    explanation: "Âú®Âêõ‰∏ªÂà∂Â∑ûÂ±ûÔºàÂ¶ÇÁéªÁíÉÂ∏Ç„ÄÅÊ£ÆÁæéÂÖ∞ÔºâÔºåÊîøÂ∫úÈ¶ñËÑëÁöÑÁß∞Âè∑‰∏∫'ÊãâÊÉπ'Êàñ'Ëãè‰∏π'ÔºåÈ©¨Êù•Ë•ø‰∫ö‰∏ç‰ΩøÁî®'ÂõΩÁéã'‰∏ÄËØç„ÄÇ"
                },
                {
                    question: "ÊàëÂõΩÂÖ±Êúâ______‰∏™Â∑ûÂ±ûÂÆûË°åÂêõ‰∏ªÂà∂Â∫¶„ÄÇ",
                    options: ["‰πù", "ÂçÅ‰∏â", "‰∏É", "‰∫î"],
                    answer: "‰πù",
                    explanation: "ÂÖ®ÂõΩ13‰∏™Â∑û‰∏≠Ôºå9‰∏™‰øùÁïô‰∏ñË¢≠Âêõ‰∏ªÂà∂ÔºàÊüî‰Ωõ„ÄÅÂêâÊâìÁ≠âÔºâÔºåÂÖ∂‰Ωô4Â∑ûÁî±Â∑ûÂÖÉÈ¶ñÊ≤ªÁêÜ„ÄÇ"
                },
                {
                    question: "Âêõ‰∏ªÂà∂Â∫¶Ê∫ê‰∫é______ÁöÑÈ©¨Êù•ÁéãÂõΩ„ÄÇ",
                    options: ["Êó©Êúü", "ÂêéÊúü", "Áé∞‰ª£", "ÊÆñÊ∞ëÊó∂Êúü"],
                    answer: "Êó©Êúü",
                    explanation: "Âêõ‰∏ªÂà∂ÂèØËøΩÊ∫ØËá≥15‰∏ñÁ∫™È©¨ÂÖ≠Áî≤ÁéãÊúùÔºåÂ±ûÈ©¨Êù•ÁéãÂõΩÊó©Êúü‰º†Áªü„ÄÇ"
                },
                {
                    question: "______ÊåáÁöÑÊòØÂêõ‰∏ªÁªüÊ≤ªÁöÑÂ∑ûÂ±ûÊàñÂõΩÂÆ∂„ÄÇ",
                    options: ["ÊãâÊÉπ", "ÊîøÂ∫ú", "ËÆÆ‰ºö", "ÂÜÖÈòÅ"],
                    answer: "ÊãâÊÉπ",
                    explanation: "'ÊãâÊÉπ'Âπø‰πâÊåáÂêõ‰∏ªÁªüÊ≤ªÁöÑÈ¢ÜÂúüÔºàÂ¶ÇÊ£ÆÁæéÂÖ∞ÔºâÔºå'ÊîøÂ∫ú'ÊåáË°åÊîøÊú∫ÊûÑÔºå‰∫åËÄÖ‰∏çÂêå„ÄÇ"
                },
                {
                    question: "______ÊòØÁ∫≥ÈóΩËÅîÈÇ¶Áõ¥ËæñÂ∏ÇÁöÑÁªüÊ≤ªËÄÖ„ÄÇ",
                    options: ["Ëãè‰∏π", "ÂõΩÂÆ∂ÂÖÉÈ¶ñ", "È¶ñÁõ∏", "Â∏ÇÈïø"],
                    answer: "ÂõΩÂÆ∂ÂÖÉÈ¶ñ",
                    explanation: "ËÅîÈÇ¶Áõ¥ËæñÂå∫ÔºàÁ∫≥ÈóΩ„ÄÅÂêâÈöÜÂù°„ÄÅÂ∏ÉÂüéÔºâÁî±ÊúÄÈ´òÂÖÉÈ¶ñÁõ¥Êé•ÁÆ°ËæñÔºåÊó†Âú∞ÊñπÂêõ‰∏ª„ÄÇ"
                },
                {
                    question: "Ê£ÆÁæéÂÖ∞Â∑ûÁöÑÁªüÊ≤ªËÄÖË¢´Áß∞‰∏∫______„ÄÇ",
                    options: ["Ëãè‰∏π", "ÊúÄÈ´òÁªüÊ≤ªËÄÖ", "ÂõΩÁéã", "Â∑ûÈïø"],
                    answer: "ÊúÄÈ´òÁªüÊ≤ªËÄÖ",
                    explanation: "Ê£ÆÁæéÂÖ∞ÈááÁî®Áã¨ÁâπÁß∞Âè∑'‰∏•Á´Ø/Yang di-Pertuan Besar'ÔºåÊ∫ê‰∫éÂéÜÂè≤‰∏äÁöÑÈÉ®ËêΩËÅîÁõüÂà∂Â∫¶„ÄÇ"
                },
                {
                    question: "ÁéªÁíÉÂ∏ÇÁöÑÈ¶ñËÑëÁß∞‰∏∫______„ÄÇ",
                    options: ["Â∑ûÂÖÉÈ¶ñ", "ÊãâÊÉπ", "Ëãè‰∏π", "ÁªüÊ≤ªËÄÖ"],
                    answer: "ÊãâÊÉπ",
                    explanation: "ÁéªÁíÉÂ∏ÇÊòØÂêõ‰∏ªÂà∂Â∑ûÂ±ûÔºåÂÖ∂ÁªüÊ≤ªËÄÖ‰∏∫'ÊãâÊÉπ'ÔºåÈùû'Â∑ûÂÖÉÈ¶ñ'ÔºàÂêéËÄÖÁî®‰∫éÈùûÂêõ‰∏ªÂ∑ûÔºâ„ÄÇ"
                },
                {
                    question: "Âú®Ê≤°ÊúâËãè‰∏πÊàñÊãâÊÉπÁöÑÂ∑ûÂ±ûÔºåÂ∑ûÂÖÉÈ¶ñÊòØÁî±______Âßî‰ªªÁöÑ„ÄÇ",
                    options: ["ÂõΩÂÆ∂ÂÖÉÈ¶ñ", "È¶ñÁõ∏", "ËÆÆ‰ºö", "‰∫∫Ê∞ë"],
                    answer: "ÂõΩÂÆ∂ÂÖÉÈ¶ñ",
                    explanation: "Â¶ÇÈ©¨ÂÖ≠Áî≤„ÄÅÊßüÂüéÁ≠âÂ∑ûÁöÑÂ∑ûÂÖÉÈ¶ñÔºàGovernorÔºâÁî±ÊúÄÈ´òÂÖÉÈ¶ñ‰ªªÂëΩ„ÄÇ"
                },
                {
                    question: "Èõ™ÂÖ∞Ëé™Â∑ûÂíåÂΩ≠‰∫®Â∑ûÁöÑÁªüÊ≤ªËÄÖÊòØ______„ÄÇ",
                    options: ["Ëãè‰∏π", "ÊãâÊÉπ", "ÊúÄÈ´òÁªüÊ≤ªËÄÖ", "Â∑ûÈïø"],
                    answer: "Ëãè‰∏π",
                    explanation: "‰∏§Â∑ûÂùáÈááÁî®'Ëãè‰∏π'Áß∞Âè∑ÔºåÂ¶ÇÁé∞‰ªªÈõ™ÂÖ∞Ëé™Ëãè‰∏πÊ≤ôÊãâÂºó‰∏ÅÊÆø‰∏ã„ÄÇ"
                }
            ],
            '1.3 ÊïàÂø†Âêõ‰∏ª': [
                {
                    question: "„Ää______„Äã‰∏≠ËÆ∞ËΩΩ‰∫ÜÂêõ‰∏ª‰∏é‰∫∫Ê∞ëÁöÑÂçèËÆÆ„ÄÇ",
                    options: ["È©¨Êù•Á∫™Âπ¥", "ËÅîÈÇ¶ÂÆ™Ê≥ï", "ÂõΩÂÆ∂ÂéüÂàô", "Áã¨Á´ãÂÆ£Ë®Ä"],
                    answer: "È©¨Êù•Á∫™Âπ¥",
                    explanation: "„ÄäÈ©¨Êù•Á∫™Âπ¥„ÄãÔºàSulalatus SalatinÔºâÊòØËÆ∞ËΩΩÈ©¨Êù•ÁéãÊúùÂéÜÂè≤ÁöÑÈáçË¶ÅÊñáÁåÆ„ÄÇ"
                },
                {
                    question: "______‰∏é‰∫∫Ê∞ë‰πãÈó¥ÁöÑÂçèËÆÆÔºåÊòØÂª∫Á´ãÊïàÂø†Ë°å‰∏∫ÁöÑÂü∫Á°Ä„ÄÇ",
                    options: ["Âêõ‰∏ª", "È¶ñÁõ∏", "Â∑ûÂä°Â§ßËá£", "ËÆÆ‰ºö"],
                    answer: "Âêõ‰∏ª",
                    explanation: "ÂçèËÆÆÂèåÊñπ‰∏∫Âêõ‰∏ªÔºàÊñØÈáåÂæ∑ÈáåÂ∏ÉÈòøÁ∫≥ÔºâÂíå‰∫∫Ê∞ë‰ª£Ë°®ÔºàÂæ∑Ëäí‰πêÂ∑¥Â∞îËææÊ∏©Ôºâ„ÄÇ"
                },
                {
                    question: "‰∫∫Ê∞ë______Á≠îÂ∫îÊïàÂø†Âêõ‰∏ªÔºåÂêõ‰∏ªÂàôÂÖ¨Ê≠£Êó†ÁßÅÂú∞ÁªüÊ≤ª‰∫∫Ê∞ë„ÄÇ",
                    options: ["Âæ∑Ëäí‰πêÂ∑¥Â∞îËææÊ∏©", "ÊñØÈáåÂæ∑ÈáåÂ∏ÉÈòøÁ∫≥", "È¶ñÁõ∏", "Â∑ûÂä°Â§ßËá£"],
                    answer: "Âæ∑Ëäí‰πêÂ∑¥Â∞îËææÊ∏©",
                    explanation: "Âæ∑Ëäí‰πêÂ∑¥Â∞îËææÊ∏©‰Ωú‰∏∫‰∫∫Ê∞ë‰ª£Ë°®‰∏éÂêõ‰∏ªÁ´ãÁ∫¶„ÄÇ"
                },
                {
                    question: "ÂçèËÆÆ‰∏≠Ëï¥Âê´‰∫Ü______‰∏éËÉåÂèõÁöÑÊ¶ÇÂøµ„ÄÇ",
                    options: ["ÂêõÊùÉ", "Ê∞ëÊùÉ", "ÊîøÊùÉ", "Ê≥ïÊùÉ"],
                    answer: "ÂêõÊùÉ",
                    explanation: "ÂêõÊùÉÔºàdaulatÔºâÊåáÂêõ‰∏ªÁ•ûÂú£ÊùÉÂ®ÅÔºåËÉåÂèõÔºàderhakaÔºâÂç≥ËøùÂèçÊïàÂø†Ë™ìË®Ä„ÄÇ"
                },
                {
                    question: "ËØ•ÂçèËÆÆÁ°ÆÁ´ã‰∫ÜÈ©¨Êù•‰º†ÁªüÊîøÊ≤ª‰∏≠______‰∏é‰πâÂä°ÁöÑÁõ∏‰∫íÂÖ≥Á≥ª„ÄÇ",
                    options: ["ÊïàÂø†", "ÊùÉÂà©", "Ëá™Áî±", "Âπ≥Á≠â"],
                    answer: "ÊïàÂø†",
                    explanation: "‰∫∫Ê∞ëÊïàÂø†Âêõ‰∏ªÔºåÂêõ‰∏ª‰øùÈöúÂÖ¨Ê≠£ÁªüÊ≤ªÔºåÂΩ¢ÊàêÂèåÂêëË¥£‰ªª„ÄÇ"
                },
                {
                    question: "ÊñØÈáåÂæ∑ÈáåÂ∏ÉÈòøÁ∫≥ÊòØÈ©¨Êù•ÊñáÁåÆËÆ∞ËΩΩ‰∏≠ÁöÑ______Ë±°ÂæÅ„ÄÇ",
                    options: ["ÂêõÊùÉ", "Ê∞ëÊùÉ", "ÊîøÊùÉ", "Ê≥ïÊùÉ"],
                    answer: "ÂêõÊùÉ",
                    explanation: "ÂÖ∂ÂêçÊÑè‰∏∫'ÂÖâËç£ÁöÑÂêõ‰∏ª'Ôºå‰ª£Ë°®È©¨Êù•Âêõ‰∏ªÁöÑÁ•ûÂú£ÊÄß„ÄÇ"
                },
                {
                    question: "Âæ∑Ëäí‰πêÂ∑¥Â∞îËææÊ∏©ÁöÑÂêçÂ≠óÊÑè‰∏∫'______ÁöÑ‰ΩøËÄÖ'„ÄÇ",
                    options: ["‰∫∫Ê∞ë", "Âêõ‰∏ª", "ÂõΩÂÆ∂", "ÂÆóÊïô"],
                    answer: "‰∫∫Ê∞ë",
                    explanation: "'Demang Lebar Daun'Áõ¥ËØë‰∏∫'ÂÆΩÂè∂È¶ñÈ¢Ü'ÔºåË±°ÂæÅ‰∫∫Ê∞ë‰ª£Ë°®„ÄÇ"
                },
                {
                    question: "ËøùÂèçÊïàÂø†ÂçèËÆÆÁöÑË°å‰∏∫Áß∞‰∏∫______„ÄÇ",
                    options: ["derhaka", "daulat", "khianat", "menderhaka"],
                    answer: "derhaka",
                    explanation: "ËÉåÂèõÂêõ‰∏ªÂú®È©¨Êù•ÊñáÂåñ‰∏≠ÊòØÊúÄ‰∏•ÈáçÁöÑÁΩ™Ë°å‰πã‰∏Ä„ÄÇ"
                },
                {
                    question: "Âêõ‰∏ªËã•ËøùËÉåÂÖ¨Ê≠£ÁªüÊ≤ªÂéüÂàôÔºåÂàôÂèØËÉΩÂ§±Âéª______„ÄÇ",
                    options: ["daulat", "derhaka", "kuasa", "kedudukan"],
                    answer: "daulat",
                    explanation: "È©¨Êù•ÊîøÊ≤ªÂì≤Â≠¶Âº∫Ë∞ÉÂêõÊùÉ‰ª•Âæ∑Ë°å‰∏∫Âü∫Á°Ä„ÄÇ"
                },
                {
                    question: "„ÄäÈ©¨Êù•Á∫™Âπ¥„ÄãËÆ∞ËΩΩÁöÑËøô‰∏ÄÂçèËÆÆÊàê‰∏∫È©¨Êù•______Âà∂Â∫¶ÁöÑÂÖ∏ËåÉ„ÄÇ",
                    options: ["ÂêõËá£", "Ê∞ë‰∏ª", "ËÅîÈÇ¶", "ÂÖ±Âíå"],
                    answer: "ÂêõËá£",
                    explanation: "ËØ•ÂçèËÆÆÂ•†ÂÆö‰∫Ü‰º†ÁªüÈ©¨Êù•Á§æ‰ºö'ÊïàÂø†-Â∫áÊä§'ÂÖ≥Á≥ªÊ®°Âºè„ÄÇ"
                }
            ],
            '1.4 ÂêõËá£ÂçèËÆÆ': [
                {
                    question: "ÂêõÊùÉÔºàdaulatÔºâË±°ÂæÅÂêõ‰∏ªÁöÑ______ÊùÉÂäõÔºåË¶ÅÊ±ÇÂêõ‰∏ªÂÖ∑Â§á______„ÄÅ______Âíå______ÁöÑÂìÅÂæ∑„ÄÇ",
                    options: ["ÊâßÊîøÔºõË¥§ÊòéÔºõÁùøÊô∫ÁÆ°ÁêÜÔºõÈ´òÂ∞ö", "Á´ãÊ≥ïÔºõÂÖ¨Ê≠£ÔºõÂãáÊï¢Ôºõ‰ªÅÊÖà", "Âè∏Ê≥ïÔºõÊô∫ÊÖßÔºõÂÆΩÂÆπÔºõÂùöÂÆö", "Ë°åÊîøÔºõËÅ™ÊòéÔºõËÄêÂøÉÔºõË∞¶Ëôö"],
                    answer: "ÊâßÊîøÔºõË¥§ÊòéÔºõÁùøÊô∫ÁÆ°ÁêÜÔºõÈ´òÂ∞ö",
                    explanation: "ÂêõÊùÉ‰ΩìÁé∞Âêõ‰∏ªÁªüÊ≤ªÁöÑÂêàÊ≥ïÊÄßÔºåÈúÄ‰ª•Âæ∑Ê≤ªÂõΩ„ÄÇ"
                },
                {
                    question: "ËÉåÂèõÔºàderhakaÔºâÊåá‰∫∫Ê∞ë______Âêõ‰∏ªÁöÑÂëΩ‰ª§ÔºåËøùËÄÖÂ∞ÜÂèó______„ÄÇ",
                    options: ["ËøùËÉåÔºõÊÉ©ÁΩö", "ÈÅµÂÆàÔºõÂ•ñÂä±", "ÂøΩËßÜÔºõË≠¶Âëä", "ÊîØÊåÅÔºõ‰øùÊä§"],
                    answer: "ËøùËÉåÔºõÊÉ©ÁΩö",
                    explanation: "ËÉåÂèõÊòØÁ†¥ÂùèÂêõËá£Â•ëÁ∫¶ÁöÑË°å‰∏∫„ÄÇ"
                },
                {
                    question: "Áª¥Êä§Âêõ‰∏ªÂà∂Â∫¶ÁöÑÊñπÊ≥ïÂåÖÊã¨Ôºö______„ÄÅ______ÂíåÊÇ¨ÊåÇÂÖÉÈ¶ñËÇñÂÉè„ÄÇ",
                    options: ["Â∫ÜÁ•ùËãè‰∏πÂçéËØûÔºõÂêÑÊóè‰∫∫Ê∞ëÂõ¢Áªì‰∏ÄËá¥", "ÂèÇÂä†ÈÄâ‰∏æÔºõÈÅµÂÆàÊ≥ïÂæã", "Á∫≥Á®éÔºõÊúçÂÖµÂΩπ", "Â≠¶‰π†ÂéÜÂè≤Ôºõ‰øùÊä§ÊñáÁâ©"],
                    answer: "Â∫ÜÁ•ùËãè‰∏πÂçéËØûÔºõÂêÑÊóè‰∫∫Ê∞ëÂõ¢Áªì‰∏ÄËá¥",
                    explanation: "ÈÄöËøá‰ª™Âºè‰∏éÂõ¢ÁªìÂº∫ÂåñÂà∂Â∫¶ËÆ§Âêå„ÄÇ"
                },
                {
                    question: "„Ää______„ÄãËÆ∞ËΩΩ‰∫ÜÂêõ‰∏ª‰∏é‰∫∫Ê∞ëÁöÑÂçèËÆÆÔºåÁ°ÆÁ´ã______ÂøÖÈ°ªÊïàÂø†„ÄÅ______ÂøÖÈ°ªÂÖ¨Ê≠£ÁöÑÂèåÂêëË¥£‰ªª„ÄÇ",
                    options: ["È©¨Êù•Á∫™Âπ¥Ôºõ‰∫∫Ê∞ëÔºõÂêõ‰∏ª", "ËÅîÈÇ¶ÂÆ™Ê≥ïÔºõÂÖ¨Ê∞ëÔºõÊîøÂ∫ú", "ÂõΩÂÆ∂ÂéüÂàôÔºõ‰∫∫Ê∞ëÔºõÂõΩÂÆ∂", "Áã¨Á´ãÂÆ£Ë®ÄÔºõÊ∞ëÊóèÔºõÈ¢ÜË¢ñ"],
                    answer: "È©¨Êù•Á∫™Âπ¥Ôºõ‰∫∫Ê∞ëÔºõÂêõ‰∏ª",
                    explanation: "ËØ•ÊñáÁåÆÊòØÈ©¨Êù•ÊîøÊ≤ªÂì≤Â≠¶ÁöÑÂü∫Á°Ä„ÄÇ"
                },
                {
                    question: "Ë±°ÂæÅÂêõ‰∏ªÊùÉÂäõÁöÑÊ≠£Á°ÆÈÄâÈ°πÊòØ______„ÄÇ",
                    options: ["ÂêõÊùÉ", "Ê∞ëÊùÉ", "ÊîøÊùÉ", "Ê≥ïÊùÉ"],
                    answer: "ÂêõÊùÉ",
                    explanation: "'daulat'‰∏ìÊåáÂêõ‰∏ªÁ•ûÂú£ÁªüÊ≤ªÊùÉÔºå‰∏é'Ê∞ëÊùÉ'ÂØπÁ´ã„ÄÇ"
                },
                {
                    question: "ÂêõËá£ÂçèËÆÆÂèçÊò†Âú®ÂõΩÂÆ∂ÂéüÂàô______‰∏≠„ÄÇ",
                    options: ["Âø†‰∫éÂêõÂõΩ", "Â∞äÂ¥áÊ≥ïÊ≤ª", "ÂüπÂÖªÂæ∑Ë°å", "Áª¥Êä§ÂÆ™Ê≥ï"],
                    answer: "Âø†‰∫éÂêõÂõΩ",
                    explanation: "ÂõΩÂÆ∂ÂéüÂàôÁ¨¨‰∫îÊù°ÊòéÁ°ÆÊïàÂø†Âêõ‰∏ª‰∏éÂõΩÂÆ∂ÁöÑ‰πâÂä°„ÄÇ"
                },
                {
                    question: "ËÆ∞ËΩΩÂçèËÆÆÁöÑÊñáÁåÆÊòØ______„ÄÇ",
                    options: ["„ÄäÈ©¨Êù•Á∫™Âπ¥„Äã", "„ÄäËÅîÈÇ¶ÂÆ™Ê≥ï„Äã", "„ÄäÂõΩÂÆ∂ÂéüÂàô„Äã", "„ÄäÁã¨Á´ãÂÆ£Ë®Ä„Äã"],
                    answer: "„ÄäÈ©¨Êù•Á∫™Âπ¥„Äã",
                    explanation: "ËØ•ÊñáÁåÆËÆ∞ÂΩïÊñØÈáåÂæ∑ÈáåÂ∏ÉÈòøÁ∫≥‰∏éÂæ∑Ëäí‰πêÂ∑¥Â∞îËææÊ∏©ÁöÑÂ•ëÁ∫¶„ÄÇ"
                },
                {
                    question: "ËÉåÂèõÊåá‰∫∫Ê∞ë______Âêõ‰∏ªÂëΩ‰ª§„ÄÇ",
                    options: ["ËøùÈÄÜ", "ÈÅµÂÆà", "ÂøΩËßÜ", "ÊîØÊåÅ"],
                    answer: "ËøùÈÄÜ",
                    explanation: "'derhaka'ÁâπÊåáËøùÊäóÂêõ‰∏ªÔºåÂêéÊûú‰∏•Èáç„ÄÇ"
                },
                {
                    question: "ÊïàÂø†ÂØπË±°Â∫î‰∏∫______„ÄÇ",
                    options: ["ÊãâÊÉπÊàñËãè‰∏π", "È¶ñÁõ∏", "Â∑ûÂä°Â§ßËá£", "ËÆÆ‰ºö"],
                    answer: "ÊãâÊÉπÊàñËãè‰∏π",
                    explanation: "ÂÆ™Ê≥ïËßÑÂÆöÂêõ‰∏ªÊòØÊïàÂø†Ê†∏ÂøÉÔºåÈùûÊîøÂÖöÊàñÈ¢ÜË¢ñ„ÄÇ"
                },
                {
                    question: "Âêõ‰∏ªË°å‰ΩøÊùÉÂäõ‰æùÊçÆ______„ÄÇ",
                    options: ["ËÅîÈÇ¶ÂÆ™Ê≥ï", "Â∑ûÂÆ™Ê≥ï", "‰π†ÊÉØÊ≥ï", "ÂÆóÊïôÊ≥ï"],
                    answer: "ËÅîÈÇ¶ÂÆ™Ê≥ï",
                    explanation: "Áé∞‰ª£Âêõ‰∏ªÊùÉÂäõÂèóÂÆ™Ê≥ïÊòéÊñáÈôêÂà∂„ÄÇ"
                }
            ]
        };

        // ÂàùÂßãÂåñËØ≠Èü≥ÂêàÊàê
        function initSpeechSynthesis() {
            return new Promise((resolve) => {
                if (!('speechSynthesis' in window)) {
                    console.warn("ÊµèËßàÂô®‰∏çÊîØÊåÅËØ≠Èü≥ÂêàÊàêAPI");
                    updateVoiceStatus(false, "ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅËØ≠Èü≥ÂäüËÉΩÔºåËØ∑‰ΩøÁî®ChromeÊàñEdgeÊµèËßàÂô®");
                    resolve(false);
                    return;
                }

                // Ê£ÄÊü•ËØ≠Èü≥ÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩ
                let voices = speechSynthesis.getVoices();
                if (voices.length > 0) {
                    checkVoices(voices);
                    resolve(true);
                    return;
                }

                // ËØ≠Èü≥Êú™Âä†ËΩΩÔºåËÆæÁΩÆÂõûË∞É
                speechSynthesis.onvoiceschanged = function() {
                    voices = speechSynthesis.getVoices();
                    if (voices.length > 0) {
                        checkVoices(voices);
                        resolve(true);
                    } else {
                        console.warn("Êó†Ê≥ïÂä†ËΩΩËØ≠Èü≥ÂàóË°®");
                        updateVoiceStatus(false, "Êó†Ê≥ïÂä†ËΩΩËØ≠Èü≥ÂàóË°®ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï");
                        resolve(false);
                    }
                };

                // Êüê‰∫õÊµèËßàÂô®ÈúÄË¶ÅËß¶Âèë‰∏ÄÊ¨°getVoicesÊâçËÉΩÊøÄÊ¥ªonvoiceschanged
                setTimeout(() => {
                    voices = speechSynthesis.getVoices();
                    if (voices.length === 0) {
                        updateVoiceStatus(false, "Ê≠£Âú®Âä†ËΩΩËØ≠Èü≥ÂºïÊìé...");
                    }
                }, 100);
            });

            function checkVoices(voices) {
                // ÂØªÊâæ‰∏≠ÊñáËØ≠Èü≥
                chineseVoiceAvailable = voices.some(voice => 
                    voice.lang === 'zh-CN' || 
                    voice.lang === 'cmn-CN' || 
                    voice.lang.startsWith('zh-')
                );
                
                isSpeechSupported = true;
                voicesLoaded = true;
                
                if (chineseVoiceAvailable) {
                    updateVoiceStatus(true, "ËØ≠Èü≥ÂäüËÉΩÂ∑≤ÂêØÁî® (‰∏≠Êñá)");
                } else {
                    updateVoiceStatus(true, "ËØ≠Èü≥ÂäüËÉΩÂ∑≤ÂêØÁî® (‰ΩøÁî®ÈªòËÆ§ËØ≠Èü≥)");
                }
            }
        }

        // Êõ¥Êñ∞ËØ≠Èü≥Áä∂ÊÄÅÊòæÁ§∫
        function updateVoiceStatus(supported, message) {
            const voiceStatus = document.getElementById('voice-status');
            voiceStatus.textContent = message;
            
            if (supported) {
                voiceStatus.className = "voice-status voice-supported";
            } else {
                voiceStatus.className = "voice-status voice-unsupported";
            }
            
            voiceStatus.style.display = 'block';
        }

        // ÂèëÈü≥ÂáΩÊï∞ - Âº∫Âà∂‰ΩøÁî®‰∏≠ÊñáÂèëÈü≥
        function pronounceText(text) {
            if (!isSpeechSupported) {
                alert("ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅËØ≠Èü≥ÂäüËÉΩÔºåËØ∑‰ΩøÁî®ChromeÊàñEdgeÊµèËßàÂô®");
                return Promise.resolve();
            }

            return new Promise((resolve) => {
                // ÂèñÊ∂àÂΩìÂâçÊ≠£Âú®Êí≠ÊîæÁöÑËØ≠Èü≥
                window.speechSynthesis.cancel();

                const utterance = new SpeechSynthesisUtterance(text);
                
                // ËÆæÁΩÆ‰∏≠ÊñáÂèëÈü≥ÂèÇÊï∞
                utterance.lang = 'zh-CN'; // Âº∫Âà∂‰ΩøÁî®‰∏≠Êñá
                utterance.rate = 0.9;    // Á®çÊÖ¢ÁöÑËØ≠ÈÄü
                utterance.pitch = 1;      // Ê≠£Â∏∏Èü≥È´ò
                utterance.volume = 1;     // ÊúÄÂ§ßÈü≥Èáè

                // Ëé∑ÂèñÊâÄÊúâÂèØÁî®ËØ≠Èü≥
                const voices = window.speechSynthesis.getVoices();
                
                // ‰ºòÂÖàÈÄâÊã©‰∏≠ÊñáËØ≠Èü≥
                const chineseVoices = voices.filter(v => 
                    v.lang === 'zh-CN' || 
                    v.lang === 'cmn-CN' || 
                    v.lang.startsWith('zh-')
                );
                
                // Â¶ÇÊûúÊúâ‰∏≠ÊñáËØ≠Èü≥Âàô‰ΩøÁî®ÔºåÂê¶Âàô‰ΩøÁî®ÈªòËÆ§ËØ≠Èü≥
                if (chineseVoices.length > 0) {
                    // ‰ºòÂÖàÈÄâÊã©Â•≥ÊÄßÂ£∞Èü≥ÔºàÈÄöÂ∏∏Êõ¥Ê∏ÖÊô∞Ôºâ
                    const femaleVoice = chineseVoices.find(v => v.name.includes('Female'));
                    utterance.voice = femaleVoice || chineseVoices[0];
                } else if (voices.length > 0) {
                    // Ê≤°Êúâ‰∏≠ÊñáËØ≠Èü≥Ôºå‰ΩøÁî®ÈªòËÆ§ËØ≠Èü≥
                    utterance.voice = voices.find(v => v.default) || voices[0];
                    console.warn("Êú™ÊâæÂà∞‰∏≠ÊñáËØ≠Èü≥Ôºå‰ΩøÁî®ÈªòËÆ§ËØ≠Èü≥");
                }

                utterance.onend = function() {
                    resolve();
                };

                utterance.onerror = function(event) {
                    console.error('ÂèëÈü≥ÈîôËØØ:', event.error);
                    alert("ÂèëÈü≥Â§±Ë¥•ÔºåËØ∑Á°Æ‰øùÊµèËßàÂô®ÂÖÅËÆ∏ËØ≠Èü≥ÂäüËÉΩ");
                    resolve();
                };

                try {
                    window.speechSynthesis.speak(utterance);
                } catch (e) {
                    console.error("ÂèëÈü≥Â§±Ë¥•:", e);
                    alert("ÂèëÈü≥Â§±Ë¥•ÔºåËØ∑ÁÇπÂáªÈ°µÈù¢‰ªªÊÑè‰ΩçÁΩÆÂêéÈáçËØï");
                    resolve();
                }
            });
        }

        // ËÆæÁΩÆÂèëÈü≥ÊåâÈíÆ‰∫ã‰ª∂
        function setupPronounceButtons() {
            document.querySelectorAll('.pronounce-btn').forEach(btn => {
                btn.addEventListener('click', async function(e) {
                    e.stopPropagation();
                    
                    // Ëé∑ÂèñË¶ÅÊúóËØªÁöÑÊñáÊú¨
                    let text = '';
                    if (this.parentElement.classList.contains('option')) {
                        // ÈÄâÈ°πÊåâÈíÆ
                        text = this.nextSibling.textContent;
                    } else {
                        // ÈóÆÈ¢òÊåâÈíÆ
                        text = this.previousSibling.textContent;
                    }
                    
                    if (text.trim()) {
                        this.disabled = true;
                        this.innerHTML = '‚åõ';
                        await pronounceText(text);
                        this.innerHTML = 'üîä';
                        this.disabled = false;
                    }
                });
            });
        }

        // Ê†πÊçÆÂπ¥Á∫ßÂíåÂçïÂÖÉÁîüÊàêÈ¢òÁõÆ
        function generateProblem() {
            if (grade === 0 || unit === '' || currentLevel > maxLevel) return;
            
            let questions = historyDragQuestions[unit];
            
            // Á°Æ‰øùÈ¢òÁõÆ‰∏çÈáçÂ§ç
            let questionIndex;
            do {
                questionIndex = Math.floor(Math.random() * questions.length);
            } while (usedProblems.includes(questionIndex) && usedProblems.length < questions.length);
            
            if (usedProblems.length >= questions.length) {
                // ÊâÄÊúâÈ¢òÁõÆÈÉΩÂ∑≤‰ΩøÁî®Ëøá
                endGame(true);
                return;
            }
            
            usedProblems.push(questionIndex);
            const question = questions[questionIndex];
            
            currentProblem = question.question;
            correctAnswer = question.answer;
            
            // ÊòæÁ§∫È¢òÁõÆ
            const problemContainer = document.getElementById('problem-container');
            problemContainer.innerHTML = '';
            
            // ÂàõÂª∫È¢òÁõÆÊñáÊú¨ÔºåÂ∞ÜÁ©∫ÁôΩÂ§ÑÊõøÊç¢‰∏∫ÂèØÊãñÊãΩÂå∫Âüü
            const questionParts = currentProblem.split('______');
            const blankSpace = document.createElement('span');
            blankSpace.className = 'blank-space';
            blankSpace.dataset.correctAnswer = correctAnswer;
            
            // Ê∑ªÂä†ÊãñÊãΩ‰∫ã‰ª∂
            blankSpace.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('highlight');
            });
            
            blankSpace.addEventListener('dragleave', function() {
                this.classList.remove('highlight');
            });
            
            blankSpace.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('highlight');
                
                const draggedText = e.dataTransfer.getData('text/plain');
                this.textContent = draggedText;
                this.dataset.userAnswer = draggedText;
                
                // Ê£ÄÊü•ÊòØÂê¶ÊâÄÊúâÁ©∫ÁôΩÈÉΩÂ∑≤Â°´ÂÜô
                checkAllBlanksFilled();
            });
            
            // Ê∑ªÂä†Á¨¨‰∏ÄÈÉ®ÂàÜÈóÆÈ¢òÂíåÂèëÈü≥ÊåâÈíÆ
            const firstPartContainer = document.createElement('span');
            firstPartContainer.className = 'question-text';
            
            const firstPartText = document.createTextNode(questionParts[0]);
            firstPartContainer.appendChild(firstPartText);
            
            if (questionParts[0].trim()) {
                const pronounceFirstBtn = document.createElement('button');
                pronounceFirstBtn.className = 'pronounce-btn';
                pronounceFirstBtn.innerHTML = 'üîä';
                pronounceFirstBtn.title = 'ÊúóËØªÈ¢òÁõÆ';
                firstPartContainer.appendChild(pronounceFirstBtn);
            }
            
            problemContainer.appendChild(firstPartContainer);
            problemContainer.appendChild(blankSpace);
            
            // Â¶ÇÊûúÊúâÁ¨¨‰∫åÈÉ®ÂàÜÈóÆÈ¢ò
            if (questionParts.length > 1) {
                const secondPartContainer = document.createElement('span');
                secondPartContainer.className = 'question-text';
                
                const secondPartText = document.createTextNode(questionParts[1]);
                secondPartContainer.appendChild(secondPartText);
                
                if (questionParts[1].trim()) {
                    const pronounceSecondBtn = document.createElement('button');
                    pronounceSecondBtn.className = 'pronounce-btn';
                    pronounceSecondBtn.innerHTML = 'üîä';
                    pronounceSecondBtn.title = 'ÊúóËØªÈ¢òÁõÆ';
                    secondPartContainer.appendChild(pronounceSecondBtn);
                }
                
                problemContainer.appendChild(secondPartContainer);
            }
            
            // Â≠òÂÇ®Á©∫ÁôΩÂå∫ÂüüÂºïÁî®
            blankSpaces = [blankSpace];
            
            // ÊòæÁ§∫Ëß£Êûê
            document.getElementById('explanation').textContent = question.explanation;
            document.getElementById('explanation').style.display = 'none';
            
            // ÂàõÂª∫ÂèØÊãñÊãΩÈÄâÈ°π
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // ÈöèÊú∫ÊéíÂ∫èÈÄâÈ°π
            const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);
            
            shuffledOptions.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.draggable = true;
                optionElement.dataset.option = option;
                
                // Ê∑ªÂä†ÂèëÈü≥ÊåâÈíÆ
                const pronounceBtn = document.createElement('button');
                pronounceBtn.className = 'pronounce-btn';
                pronounceBtn.innerHTML = 'üîä';
                pronounceBtn.title = 'ÊúóËØªÈÄâÈ°π';
                
                // Ê∑ªÂä†ÈÄâÈ°πÊñáÊú¨
                const optionText = document.createElement('span');
                optionText.textContent = option;
                
                // Ê∑ªÂä†ÊãñÊãΩ‰∫ã‰ª∂
                optionElement.addEventListener('dragstart', function(e) {
                    draggedOption = this;
                    e.dataTransfer.setData('text/plain', this.dataset.option);
                    this.classList.add('dragging');
                });
                
                optionElement.addEventListener('dragend', function() {
                    this.classList.remove('dragging');
                });
                
                // ÁªÑË£ÖÈÄâÈ°πÂÖÉÁ¥†
                optionElement.appendChild(pronounceBtn);
                optionElement.appendChild(optionText);
                optionsContainer.appendChild(optionElement);
            });
            
            // ËÆæÁΩÆÂèëÈü≥ÊåâÈíÆ‰∫ã‰ª∂
            setupPronounceButtons();
            
            // Ëá™Âä®ÊúóËØªÂÆåÊï¥ÈóÆÈ¢òÔºàÂèØÈÄâÔºâ
            if (isSpeechSupported) {
                setTimeout(() => {
                    pronounceText(currentProblem.replace('______', 'Á©∫ÁôΩ'));
                }, 500);
            }
            
            // Êõ¥Êñ∞ËøõÂ∫¶Êù°
            updateProgressBar();
        }

        // Ê£ÄÊü•ÊâÄÊúâÁ©∫ÁôΩÊòØÂê¶Â∑≤Â°´ÂÜô
        function checkAllBlanksFilled() {
            const allFilled = blankSpaces.every(blank => blank.textContent.trim() !== '');
            document.getElementById('submit-answer').disabled = !allFilled;
        }
        
        // Ê£ÄÊü•Á≠îÊ°à
        function checkAnswer() {
            let allCorrect = true;
            
            blankSpaces.forEach(blank => {
                const userAnswer = blank.dataset.userAnswer;
                const isCorrect = userAnswer === blank.dataset.correctAnswer;
                
                if (isCorrect) {
                    blank.classList.add('correct');
                    blank.classList.remove('incorrect');
                } else {
                    blank.classList.add('incorrect');
                    blank.classList.remove('correct');
                    allCorrect = false;
                }
            });
            
            const feedback = document.getElementById('feedback');
            const explanation = document.getElementById('explanation');
            
            if (allCorrect) {
                feedback.textContent = 'Ê≠£Á°ÆÔºÅÂ§™Ê£í‰∫ÜÔºÅ üéâ';
                feedback.className = 'feedback correct';
                score += 10;
                document.getElementById('score').textContent = `ÂæóÂàÜ: ${score}`;
                
                // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
                addHistory(true, blankSpaces[0].dataset.userAnswer);
                
                // ÊòæÁ§∫Ëß£Êûê
                explanation.style.display = 'block';
                
                // ËøõÂÖ•‰∏ã‰∏ÄÂÖ≥
                currentLevel++;
                document.getElementById('level').textContent = `ÂÖ≥Âç°: ${currentLevel}/${maxLevel}`;
                
                if (currentLevel > maxLevel) {
                    // ÈÄöÂÖ≥
                    setTimeout(() => endGame(true), 1500);
                } else {
                    // ÁîüÊàêÊñ∞È¢òÁõÆ
                    setTimeout(() => {
                        document.getElementById('submit-answer').disabled = true;
                        generateProblem();
                    }, 1500);
                }
            } else {
                feedback.textContent = `ÂìéÂëÄÔºå‰∏çÂØπÂì¶ÔºÅÊ≠£Á°ÆÁ≠îÊ°àÊòØ: ${correctAnswer}`;
                feedback.className = 'feedback incorrect';
                explanation.style.display = 'block';
                
                // ÊòæÁ§∫Ê≠£Á°ÆÁ≠îÊ°à
                blankSpaces.forEach(blank => {
                    blank.textContent = blank.dataset.correctAnswer;
                });
                
                // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
                addHistory(false, blankSpaces[0].dataset.userAnswer);
                
                // ÁîüÊàêÊñ∞È¢òÁõÆÔºàÂêå‰∏ÄÂÖ≥Âç°Ôºâ
                setTimeout(() => {
                    document.getElementById('submit-answer').disabled = true;
                    generateProblem();
                }, 1500);
            }
        }
        
        // Êõ¥Êñ∞ËøõÂ∫¶Êù°
        function updateProgressBar() {
            const progress = (currentLevel - 1) / maxLevel * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }
        
        // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
        function addHistory(isCorrect, userAnswer) {
            const historyItem = {
                problem: currentProblem,
                answer: correctAnswer,
                userAnswer: userAnswer,
                isCorrect: isCorrect,
                time: new Date().toLocaleTimeString()
            };
            
            history.unshift(historyItem);
            updateHistoryDisplay();
        }
        
        // Êõ¥Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïÊòæÁ§∫
        function updateHistoryDisplay() {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '';
            
            if (history.length === 0) {
                historyList.innerHTML = '<p>ËøòÊ≤°ÊúâÁ≠îÈ¢òËÆ∞ÂΩïÂì¶~</p>';
            } else {
                const filteredHistory = history.filter(item => {
                    if (historyFilter === 'all') return true;
                    if (historyFilter === 'correct') return item.isCorrect;
                    if (historyFilter === 'incorrect') return !item.isCorrect;
                    return true;
                });
                
                if (filteredHistory.length === 0) {
                    historyList.innerHTML = `<p>Ê≤°Êúâ${historyFilter === 'correct' ? 'Ê≠£Á°Æ' : 'ÈîôËØØ'}ÁöÑÁ≠îÈ¢òËÆ∞ÂΩï~</p>`;
                } else {
                    filteredHistory.forEach(item => {
                        const historyItem = document.createElement('div');
                        historyItem.className = `history-item ${item.isCorrect ? 'history-correct' : 'history-incorrect'}`;
                        const icon = item.isCorrect ? '‚úÖ' : '‚ùå';
                        historyItem.innerHTML = `
                            <strong>${icon} ${item.problem.replace('______', item.userAnswer)}</strong>
                            <br>
                            ‰Ω†ÁöÑÁ≠îÊ°à: ${item.userAnswer} (Ê≠£Á°ÆÁ≠îÊ°à: ${item.answer}) (${item.time})
                        `;
                        historyList.appendChild(historyItem);
                    });
                }
            }
        }
        
        // ËÆæÁΩÆÂéÜÂè≤Á≠õÈÄâ
        function setHistoryFilter(filter) {
            historyFilter = filter;
            updateHistoryDisplay();
            
            document.getElementById('show-all').classList.remove('active');
            document.getElementById('show-correct').classList.remove('active');
            document.getElementById('show-incorrect').classList.remove('active');
            document.getElementById(`show-${filter}`).classList.add('active');
        }
        
        // Êõ¥Êñ∞ÂçïÂÖÉÊåâÈíÆ
        function updateUnitButtons(selectedGrade) {
            const unitButtonsContainer = document.getElementById('unit-buttons');
            unitButtonsContainer.innerHTML = '';
            
            if (selectedGrade && unitConfig[selectedGrade]) {
                unitConfig[selectedGrade].forEach(unitName => {
                    const button = document.createElement('button');
                    button.className = 'unit-btn';
                    button.textContent = unitName;
                    button.dataset.unit = unitName;
                    button.addEventListener('click', function() {
                        document.querySelectorAll('.unit-btn').forEach(btn => {
                            btn.classList.remove('active');
                        });
                        this.classList.add('active');
                        unit = this.dataset.unit;
                        startGame(grade, unit);
                    });
                    unitButtonsContainer.appendChild(button);
                });
            } else {
                unitButtonsContainer.innerHTML = '<p>ËØ∑ÂÖàÈÄâÊã©Âπ¥Á∫ß</p>';
            }
        }
        
        // Êõ¥Êñ∞ËÆ°Êó∂Âô®
        function updateTimer() {
            elapsedSeconds = Math.floor((new Date() - startTime) / 1000);
            document.getElementById('timer').textContent = `Êó∂Èó¥: ${elapsedSeconds}Áßí`;
        }
        
        // ÂºÄÂßãÊ∏∏Êàè
        async function startGame(selectedGrade, selectedUnit) {
            playerName = document.getElementById('player-name').value.trim() || 'Áé©ÂÆ∂';
            document.getElementById('summary-player').textContent = playerName;
            
            grade = selectedGrade;
            unit = selectedUnit || '';
            score = 0;
            currentLevel = 1;
            history = [];
            usedProblems = [];
            blankSpaces = [];
            elapsedSeconds = 0;
            
            document.getElementById('score').textContent = `ÂæóÂàÜ: ${score}`;
            document.getElementById('level').textContent = `ÂÖ≥Âç°: ${currentLevel}/${maxLevel}`;
            document.getElementById('summary').style.display = 'none';
            document.getElementById('options-container').innerHTML = '';
            document.getElementById('explanation').style.display = 'none';
            document.getElementById('submit-answer').disabled = true;
            document.getElementById('progress-bar').style.width = '0%';
            document.getElementById('timer').textContent = 'Êó∂Èó¥: 0Áßí';
            
            // ÂàùÂßãÂåñËØ≠Èü≥
            await initSpeechSynthesis();
            
            // ÂºÄÂßãËÆ°Êó∂
            startTime = new Date();
            if (timer) clearInterval(timer);
            timer = setInterval(updateTimer, 1000);
            
            generateProblem();
        }
        
        // ÁªìÊùüÊ∏∏Êàè
        function endGame(isWin) {
            clearInterval(timer);
            window.speechSynthesis.cancel();
            
            if (isWin) {
                const correctCount = history.filter(item => item.isCorrect).length;
                const accuracy = Math.round((correctCount / history.length) * 100);
                
                document.getElementById('final-score').textContent = `ÊúÄÁªàÂæóÂàÜ: ${score}`;
                document.getElementById('correct-rate').textContent = `Ê≠£Á°ÆÁéá: ${accuracy}%`;
                document.getElementById('time-used').textContent = `Áî®Êó∂: ${elapsedSeconds}Áßí`;
                document.getElementById('summary').style.display = 'block';
                
                createCelebration();
            }
        }
        
        // ÂàõÂª∫Â∫ÜÁ•ùÊïàÊûú
        function createCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            document.body.appendChild(celebration);
            
            // ÂàõÂª∫ÂΩ©Ëâ≤Á∫∏Â±ë
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                celebration.appendChild(confetti);
            }
            
            setTimeout(() => celebration.remove(), 5000);
        }
        
        // DOMÂä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', async function() {
            // ÂàùÂßãÂåñËØ≠Èü≥
            await initSpeechSynthesis();
            
            // ËÆæÁΩÆÂπ¥Á∫ßÈÄâÊã©‰∫ã‰ª∂
            document.querySelectorAll('.grade-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    grade = parseInt(this.dataset.grade);
                    updateUnitButtons(grade);
                    document.getElementById('problem-container').textContent = 'ËØ∑ÈÄâÊã©ÂçïÂÖÉ';
                    document.getElementById('options-container').innerHTML = '';
                    document.getElementById('submit-answer').disabled = true;
                });
            });
            
            // ÂéÜÂè≤Á≠õÈÄâÊåâÈíÆ
            document.getElementById('show-all').addEventListener('click', () => setHistoryFilter('all'));
            document.getElementById('show-correct').addEventListener('click', () => setHistoryFilter('correct'));
            document.getElementById('show-incorrect').addEventListener('click', () => setHistoryFilter('incorrect'));
            
            // ÂÜçÊù•‰∏ÄÊ¨°ÊåâÈíÆ
            document.getElementById('play-again').addEventListener('click', function() {
                startGame(grade, unit);
            });
            
            // Áé©ÂÆ∂ÂßìÂêçËæìÂÖ•
            document.getElementById('player-name').addEventListener('input', function() {
                playerName = this.value.trim() || 'Áé©ÂÆ∂';
            });
            
            // Êèê‰∫§Á≠îÊ°àÊåâÈíÆ
            document.getElementById('submit-answer').addEventListener('click', checkAnswer);
            
            // ÈòªÊ≠¢ÈªòËÆ§ÊãñÊãΩË°å‰∏∫
            document.addEventListener('dragover', function(e) {
                e.preventDefault();
            });
            
            // iOSËÆæÂ§áÈúÄË¶ÅÁî®Êà∑‰∫§‰∫íÂêéÊâçËÉΩ‰ΩøÁî®ËØ≠Èü≥
            document.body.addEventListener('click', function initOnClick() {
                if (!voicesLoaded && isSpeechSupported) {
                    initSpeechSynthesis();
                }
                document.body.removeEventListener('click', initOnClick);
            }, { once: true });
        });
    </script>
</body>
</html>